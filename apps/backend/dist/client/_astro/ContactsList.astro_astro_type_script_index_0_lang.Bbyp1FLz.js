import{C as d,c as u}from"./contacts.module.BQC9jV0-.js";import"./notificiation.DyHDLNjw.js";import"./endpoints.QH1VciTq.js";import"./index.B9b1t7QR.js";import"./index.CViUNx8d.js";const r=document.querySelector("#contacts-list"),h=document.querySelector("#contact-item-template");await d.getContacts();u.subscribe(c=>{r.innerHTML="";for(const n of c){const e=h.content.cloneNode(!0).children[0],t=e.children[0].children[0],a=e.children[0].children[1];e.id=n.id,t.value=n.name,a.value=n.phone,r.append(e)}});r.addEventListener("click",async c=>{const n=c.target.closest(".delete-btn"),e=c.target.closest(".edit-btn");if(n){const t=n.parentElement.parentElement;await d.removeContact(t.id)}if(e){const t=e.parentElement.parentElement,a=t.dataset.status,s=t.children[0].children[0],o=t.children[0].children[1],i=t.children[1].children[0];if(a==="inputs-deshabilitados"&&(s.removeAttribute("readonly"),o.removeAttribute("readonly"),t.dataset.status="inputs-habilitados",i.children[0].classList.add("hidden"),i.children[1].classList.remove("hidden")),a==="inputs-habilitados"){s.setAttribute("readonly",!0),o.setAttribute("readonly",!0),t.dataset.status="inputs-deshabilitados",i.children[0].classList.remove("hidden"),i.children[1].classList.add("hidden");const l={id:t.id,name:s.value,phone:o.value};await d.updateContact(l)}}});
